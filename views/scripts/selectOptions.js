const attr = ['layout', 'components', 'views', 'themeSetting']
const tips = [
  '选择合适的布局，方便整个系统页面展示。',
  '选择需要的组件，快速完成页面模块。',
  '选择需要的页面组件，快速实现页面效果。',
  '想要可变的主题，选它！'
]
const selectOptions = {
  name: 'selectOptions',
  template: `
    <div class="wrap selectOptions flex column border-box pb-15">
      <header>
        <h1>Fire Monkey 项目工程</h1>
        <div class="create-tab">
          <div class="tab">
            <svg t="1627025949243" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33697" width="28" height="25"><path d="M172.9 972C106.2 972 52 917.8 52 851.1V52h734.9v185.1H972v614c0 66.8-54.2 120.9-120.9 120.9H172.9z m614-120.9c0 38.3 25.8 64.1 64.1 64.1s64.1-25.8 64.1-64.1V293.2H786.3l0.6 557.9z m-678.1 0c0 38.3 25.8 64.1 64.1 64.1h578.3l-2.6-4c-12.6-19.2-17.8-37-17.8-60.1V108.2h-622v742.9z m128.3-125.6v-56.2h241.2v56.2H237.1z m0-185.1v-56.2h364.8v56.2H237.1z m0-185v-56.2h364.8v56.2H237.1z" p-id="33698"></path></svg>
            详情
          </div>
          <div class="tab active">
            <svg t="1627025875677" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31832" width="28" height="25"><path d="M450.8 693.8c-8.2 0-16.4-3.1-22.6-9.4L250.9 507.1c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l154.7 154.7 277-277c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3L473.5 684.5c-6.3 6.2-14.5 9.3-22.7 9.3z" p-id="31833"></path><path d="M512 956.2c-59.9 0-118.1-11.7-172.9-34.9-52.9-22.4-100.4-54.4-141.2-95.2s-72.8-88.3-95.2-141.2c-23.2-54.8-34.9-113-34.9-172.9s11.7-118.1 34.9-172.9c22.4-52.9 54.4-100.4 95.2-141.2s88.3-72.8 141.2-95.2c54.8-23.2 113-34.9 172.9-34.9s118.1 11.7 172.9 34.9c52.9 22.4 100.4 54.4 141.2 95.2s72.8 88.3 95.2 141.2c23.2 54.8 34.9 113 34.9 172.9s-11.7 118.1-34.9 172.9c-22.4 52.9-54.4 100.4-95.2 141.2s-88.3 72.8-141.2 95.2c-54.8 23.1-113 34.9-172.9 34.9z m0-824.4c-101.5 0-197 39.5-268.8 111.3S131.8 410.5 131.8 512s39.5 197 111.3 268.8S410.5 892.2 512 892.2s197-39.5 268.8-111.3S892.2 613.5 892.2 512s-39.5-197-111.3-268.8S613.5 131.8 512 131.8z" p-id="31834"></path></svg>
            预设
          </div>
          <div class="tab">
            <svg t="1627025799821" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="30901" width="28" height="25"><path d="M512 1024c-19.748571 0-39.314286-5.302857-56.868571-15.908571l-329.142858-199.497143A110.500571 110.500571 0 0 1 73.142857 714.788571V309.211429c0-38.034286 20.297143-74.057143 52.845714-93.805715l329.142858-199.497143a109.604571 109.604571 0 0 1 113.737142 0l329.142858 199.497143A110.500571 110.500571 0 0 1 950.857143 309.211429v405.394285c0 38.034286-20.297143 74.057143-52.845714 93.805715l-329.142858 199.497142c-17.554286 10.788571-37.12 16.091429-56.868571 16.091429z m0-950.857143c-6.582857 0-13.165714 1.828571-19.017143 5.302857l-329.142857 199.497143c-10.788571 6.582857-17.554286 18.651429-17.554286 31.268572v405.394285c0 12.617143 6.765714 24.685714 17.554286 31.268572l329.142857 199.497143c11.702857 7.131429 26.148571 7.131429 37.851429 0l329.142857-199.497143c10.788571-6.582857 17.554286-18.651429 17.554286-31.268572V309.211429c0-12.617143-6.765714-24.685714-17.554286-31.268572l-329.142857-199.497143A36.205714 36.205714 0 0 0 512 73.142857z" p-id="30902"></path><path d="M512 896c-20.114286 0-36.571429-16.457143-36.571429-36.571429V488.411429l311.405715-172.982858c17.737143-9.874286 39.862857-3.474286 49.737143 14.262858s3.474286 39.862857-14.262858 49.737142L548.571429 531.565714V859.428571c0 20.114286-16.457143 36.571429-36.571429 36.571429z" p-id="30903"></path><path d="M512 546.56c-6.034286 0-12.068571-1.462857-17.737143-4.571429l-292.571428-162.56a36.626286 36.626286 0 0 1-14.262858-49.737142c9.874286-17.737143 32-23.954286 49.737143-14.262858l292.571429 162.56c17.737143 9.874286 23.954286 32 14.262857 49.737143-6.765714 12.068571-19.2 18.834286-32 18.834286z" p-id="30904"></path></svg>
            功能
          </div>
        </div>
      </header>
      <div class="tab-content flex1">
        <div class="tips">{{tips[userSteps]}}</div>
        <div class="question">{{options.name}}</div>
        <div :class="'options '+ attr[userSteps]">
          <div :class="checkedNames.includes(opt.value) ? 'option-item selected' : 'option-item'" v-for="opt in options.children">
            <input type="checkbox" :name="attr[userSteps]" :id="opt.value" :value="opt.value" v-model="checkedNames">
            <img :src="basurl + '/fileserve' + opt.imageURL" alt="" />
            <div class="option-item-info">
              <span class="option-item-name">{{opt.name}}</span>
              <!-- <span className="option-item-desc">{{opt.name}}</span> -->
            </div>
            <div class="preview" @click="preview(opt)">
              <svg t="1627900977638" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6211" width="200" height="200"><path d="M411.05 365.62a32 32 0 1 1-45.25 45.27L160.77 206v152.13a32 32 0 0 1-32 32 32 32 0 0 1-32-32l-0.06-229.38v-0.23V127.12v-0.68l0.06-0.81a0.61 0.61 0 0 0 0-0.14c0-0.25 0.07-0.51 0.1-0.76 0-0.21 0-0.41 0.08-0.62v-0.2c0-0.24 0.08-0.47 0.12-0.71v-0.08c0-0.18 0.06-0.36 0.1-0.54a2.17 2.17 0 0 1 0-0.25c0-0.22 0.1-0.43 0.15-0.65v-0.1c0-0.18 0.08-0.35 0.13-0.53a2 2 0 0 1 0.06-0.26c0-0.2 0.11-0.4 0.17-0.6v-0.1c0.06-0.18 0.11-0.37 0.16-0.56s0-0.18 0.08-0.26 0.11-0.34 0.17-0.51a0.49 0.49 0 0 1 0-0.11c0.07-0.21 0.13-0.41 0.21-0.62s0-0.17 0.08-0.25 0.12-0.28 0.17-0.43v-0.1c0.09-0.24 0.18-0.47 0.28-0.71l0.09-0.22c0-0.1 0.09-0.21 0.14-0.31l0.06-0.14 0.35-0.78 0.09-0.18c0-0.09 0.09-0.18 0.14-0.27a0.61 0.61 0 0 0 0-0.12l0.44-0.85s0-0.09 0.07-0.14l0.13-0.21a0.54 0.54 0 0 1 0.07-0.13c0.16-0.3 0.33-0.59 0.51-0.88a0.75 0.75 0 0 1 0.07-0.12v-0.08l0.16-0.23c0.18-0.3 0.37-0.6 0.56-0.89l0.07-0.1 0.23-0.31c0.2-0.29 0.39-0.57 0.6-0.85l0.36-0.47c0.2-0.25 0.39-0.51 0.6-0.75s0.34-0.41 0.52-0.61 0.32-0.39 0.5-0.58c0.35-0.38 0.7-0.76 1.07-1.13 0.36-0.37 0.73-0.72 1.11-1.07l0.57-0.49 0.61-0.53 0.75-0.58 0.48-0.37c0.27-0.21 0.55-0.4 0.83-0.59l0.44-0.31 0.87-0.56 0.45-0.28 0.87-0.5 0.5-0.28 0.83-0.42 0.58-0.29 0.76-0.35 0.7-0.3 0.68-0.27 0.57-0.22h0.23l0.6-0.2c0.22-0.08 0.43-0.16 0.65-0.22l0.22-0.07 0.53-0.15 0.73-0.21h0.26l0.49-0.12c0.26-0.06 0.53-0.13 0.8-0.18h0.23l0.5-0.09 0.84-0.15h0.19l0.58-0.07 0.83-0.11h0.14l0.77-0.06 0.72-0.05H128.23l229.33 0.12a32 32 0 0 1 0 64l-152-0.08z m225 54.76a31.91 31.91 0 0 0 22.66-9.38L863.6 206l-0.08 152a32 32 0 0 0 32 32 32 32 0 0 0 32-32l0.12-229.33v-1.6c0-0.22 0-0.43-0.05-0.64s0-0.58-0.07-0.87a0.49 0.49 0 0 0 0-0.12c0-0.26-0.06-0.52-0.1-0.78s0-0.43-0.08-0.64a1.1 1.1 0 0 0 0-0.18c0-0.27-0.1-0.54-0.14-0.81s-0.06-0.36-0.1-0.54 0-0.15 0-0.23c0-0.26-0.12-0.51-0.18-0.77l-0.12-0.53-0.06-0.24c-0.06-0.25-0.13-0.48-0.2-0.72s-0.1-0.37-0.16-0.55a1.82 1.82 0 0 0-0.07-0.25c-0.06-0.22-0.14-0.43-0.21-0.64l-0.21-0.62-0.08-0.23c-0.07-0.19-0.15-0.37-0.22-0.56s-0.18-0.46-0.28-0.69c0-0.07-0.05-0.13-0.07-0.2s-0.15-0.32-0.22-0.49l-0.35-0.77a1 1 0 0 1-0.07-0.15c-0.07-0.15-0.15-0.29-0.22-0.43s-0.28-0.56-0.43-0.83l-0.06-0.12-0.21-0.38-0.5-0.87-0.06-0.09-0.22-0.36-0.56-0.87-0.05-0.07c-0.08-0.13-0.18-0.25-0.26-0.37-0.19-0.28-0.39-0.56-0.59-0.83v-0.06c-0.11-0.15-0.23-0.29-0.35-0.44l-0.56-0.72v-0.05l-0.52-0.6c-0.15-0.18-0.3-0.36-0.46-0.53-0.34-0.37-0.68-0.73-1-1.08-0.36-0.35-0.72-0.7-1.09-1h-0.06l-0.54-0.46c-0.17-0.15-0.34-0.31-0.51-0.45l-0.08-0.06-0.72-0.56-0.34-0.27-0.07-0.06-0.1-0.06c-0.26-0.2-0.54-0.39-0.81-0.58l-0.22-0.16-0.13-0.09-0.11-0.07-0.85-0.55-0.21-0.13a0.57 0.57 0 0 0-0.13-0.08l-0.12-0.08-0.86-0.49-0.2-0.11a0.83 0.83 0 0 0-0.16-0.09l-0.15-0.09-0.82-0.42-0.18-0.09-0.23-0.11-0.19-0.09-0.76-0.34-0.12-0.06-0.35-0.15a2 2 0 0 0-0.22-0.09l-0.68-0.27-0.14-0.06-0.41-0.16-0.26-0.09-0.6-0.2h-0.16l-0.47-0.16-0.27-0.08-0.54-0.15-0.23-0.07-0.47-0.13-0.28-0.07-0.5-0.11-0.25-0.06-0.52-0.12h-0.25l-0.52-0.09h-0.23l-0.58-0.1h-0.21l-0.59-0.07h-0.13l-0.67-0.09h-0.15l-0.78-0.06-0.7-0.05H895.97l-229.39 0.06a32 32 0 0 0 0 64h152.13l-204.94 205a32 32 0 0 0 22.63 54.63z m-270.41 193l-204.88 205 0.08-152a32 32 0 0 0-32-32 32 32 0 0 0-32 32l-0.12 229.33V898.07l0.06 0.77a0.57 0.57 0 0 1 0 0.13c0 0.27 0.07 0.53 0.1 0.79v0.06c0 0.19 0 0.37 0.07 0.56v0.2c0 0.26 0.09 0.52 0.14 0.79v0.06c0 0.16 0 0.32 0.08 0.48s0 0.16 0.05 0.24c0 0.27 0.12 0.54 0.18 0.82s0.07 0.31 0.11 0.47a2 2 0 0 1 0.06 0.26c0.07 0.25 0.15 0.5 0.22 0.75s0.09 0.34 0.14 0.51a2.33 2.33 0 0 1 0.07 0.25c0.08 0.23 0.16 0.45 0.23 0.68l0.2 0.57a2.25 2.25 0 0 0 0.08 0.24c0.07 0.2 0.15 0.4 0.23 0.6l0.26 0.65c0 0.06 0 0.13 0.08 0.2s0.16 0.35 0.23 0.52l0.33 0.73 0.08 0.17c0.07 0.15 0.15 0.3 0.23 0.45s0.27 0.53 0.41 0.8l0.06 0.13 0.24 0.41 0.47 0.82 0.06 0.11 0.25 0.39 0.53 0.82 0.06 0.09c0.09 0.14 0.19 0.27 0.29 0.41s0.36 0.52 0.55 0.77v0.06c0.12 0.17 0.25 0.33 0.38 0.49s0.34 0.45 0.53 0.67c0.18 0.23 0.38 0.45 0.57 0.67l0.41 0.46c0.32 0.36 0.65 0.7 1 1l0.07 0.07c0.32 0.33 0.66 0.64 1 0.95l0.12 0.11 0.06 0.06 0.48 0.41 0.51 0.44 0.11 0.1a0.27 0.27 0 0 1 0.08 0.07l0.68 0.53 0.32 0.25 0.13 0.1 0.1 0.07c0.26 0.19 0.52 0.38 0.79 0.56l0.17 0.13 0.2 0.13 0.11 0.08 0.84 0.54 0.3 0.2 0.13 0.07 0.85 0.49 0.37 0.21 0.15 0.08 0.81 0.42 0.42 0.21 0.18 0.08 0.76 0.34 0.47 0.22 0.23 0.09 0.68 0.26 0.55 0.22 0.25 0.09 0.6 0.2 0.63 0.22 0.28 0.07 0.53 0.16 0.71 0.2 0.27 0.06 0.51 0.12 0.77 0.18h0.25l0.52 0.09 0.79 0.14h0.2l0.6 0.08 0.8 0.1h0.14c0.26 0 0.53 0 0.8 0.06h2.35l229.38-0.06a32 32 0 0 0 0-64H205.68l204.94-205a32 32 0 0 0-45.27-45.24z m562 282.28l-0.06-229.38a32 32 0 0 0-32-32 32 32 0 0 0-32 32v152.13l-205-205a32 32 0 0 0-45.24 45.27l205 204.89-152-0.08a32 32 0 0 0 0 64l229.33 0.12h1.67l0.68-0.06c0.27 0 0.54 0 0.81-0.06h0.13l0.81-0.1 0.6-0.08h0.19c0.28 0 0.55-0.1 0.82-0.15l0.52-0.09h0.24l0.79-0.18 0.5-0.12 0.26-0.06 0.72-0.21 0.54-0.15 0.25-0.07 0.65-0.22 0.6-0.2 0.24-0.08 0.56-0.23 0.69-0.27 0.17-0.07 0.49-0.22 0.76-0.34h0.17l0.42-0.21 0.83-0.43 0.51-0.28c0.28-0.16 0.57-0.32 0.86-0.5l0.45-0.28 0.87-0.55 0.44-0.32 0.82-0.58 0.5-0.39c0.25-0.19 0.49-0.37 0.73-0.57 0.2-0.16 0.39-0.33 0.58-0.5s0.37-0.31 0.55-0.48c0.35-0.32 0.69-0.65 1-1l0.08-0.08c0.32-0.32 0.64-0.66 1-1l0.11-0.12v-0.05l0.49-0.57 0.3-0.33 0.18-0.21v-0.07l0.59-0.75a1.47 1.47 0 0 0 0.1-0.13l0.21-0.26 0.06-0.09 0.6-0.84 0.23-0.33 0.06-0.09c0.2-0.3 0.38-0.59 0.57-0.89a3.45 3.45 0 0 0 0.2-0.32 0.41 0.41 0 0 0 0.07-0.11c0.18-0.29 0.34-0.59 0.51-0.88l0.19-0.35s0.05-0.09 0.08-0.14c0.15-0.28 0.29-0.56 0.43-0.85 0.07-0.13 0.14-0.25 0.2-0.39s0-0.11 0.08-0.17l0.36-0.79c0.06-0.15 0.14-0.3 0.2-0.45l0.09-0.22c0.09-0.23 0.18-0.47 0.28-0.71s0.14-0.35 0.21-0.53 0-0.16 0.08-0.24l0.21-0.63 0.21-0.61a2.68 2.68 0 0 0 0.07-0.27c0.06-0.19 0.11-0.38 0.17-0.57s0.13-0.45 0.19-0.68l0.06-0.26c0-0.18 0.08-0.36 0.12-0.54s0.13-0.5 0.18-0.75v-0.24c0-0.08 0.07-0.37 0.1-0.55s0.1-0.52 0.14-0.79a1.23 1.23 0 0 0 0-0.19c0-0.22 0.06-0.43 0.09-0.64s0.07-0.51 0.09-0.77a0.57 0.57 0 0 0 0-0.13c0-0.29 0-0.57 0.07-0.85s0-0.43 0.05-0.64v-0.07V896a0.76 0.76 0 0 0 0-0.15z" p-id="6212"></path></svg>
            </div>
          </div>
        </div>
      </div>
      <div class="operate">
        <button class="pre" @click="switchPage(detailPage, userSteps-1)">
          <svg t="1627031063830" class="icon" viewBox="0 0 1213 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="36613" width="16" height="16"><path d="M209.548124 568.908272l379.62235 358.119266c23.626846 22.26157 23.513073 58.289665-0.26547 80.399538a63.561145 63.561145 0 0 1-85.822715-0.227546L32.744988 563.52302A56.886466 56.886466 0 0 1 0.016308 510.580683c-0.379243-14.942178 5.499025-30.036054 17.634805-41.489196L497.128172 16.844083A63.561145 63.561145 0 0 1 582.912963 16.578612c23.778543 22.147797 23.892316 58.175893 0.26547 80.437463L203.556083 455.135341H1156.707782a56.886466 56.886466 0 0 1 0 113.772931H209.548124z"  p-id="36614"></path></svg>
          上一步
        </button>
        <button @click="switchPage(publicMethod, userSteps+1)">
          下一步
          <svg t="1627030942650" class="icon" viewBox="0 0 1229 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="36113" width="16" height="16"><path d="M1214.397 443.016L790.485 15.008a50.788 50.788 0 0 0-72.29 0.205 51.607 51.607 0 0 0-4.3 68.092l344.76 348.14H51.097A51.402 51.402 0 0 0 0.002 483.256c0 28.466 22.936 51.505 50.992 51.505h1007.559L705.498 891.092a53.245 53.245 0 0 0 8.499 61.846 50.48 50.48 0 0 0 36.247 14.745 57.34 57.34 0 0 0 40.855-17.407l28.261-28.363 77.615-78.332 14.642-14.54 302.677-305.748a51.197 51.197 0 0 0 14.336-39.217v-2.048a51.197 51.197 0 0 0-14.336-39.012z" p-id="36114"></path></svg>
        </button>
      </div>
      <preview-dialog v-show="visible" :title="title" :pic="pic" @close="closeDialog" />
    </div>
  `,
  props: ['swithRoute'],
  data () {
    return {
      checkedNames: [],
      options: {},
      pic: '',
      visible: false,
      title: ''
    }
  },
  created () {
    this.getList()
  },
  components: {
    previewDialog
  },
  methods: {
    async getList () {
      let { data } = await window.getData('/fileserve/api/fireMonkeyUI/manifest')
      console.log('manifest', data)
      if (typeof data === 'undefined' || typeof data.sourceListMap === 'undefined') {
        console.log('获取接口错误')
        return;
      }
      allOptions = data.sourceListMap
      projectInfo.zipPackageURL = data.zipPackageURL
      this.options = allOptions[attr[userSteps]]
      console.log(this.options, attr[0], allOptions)
    },
    switchPage (component, step) {
      if (this.checkedNames.length) projectInfo[attr[userSteps]] = this.checkedNames
      if (step < 0 || step > 3) {
        console.log('userSteps', userSteps)
        this.swithRoute(component)
        return
      }
      userSteps = step
      this.checkedNames = []
      this.options = allOptions[attr[userSteps]]
    },
    preview (opt) {
      console.log('dianjidianji')
      this.pic = basurl + '/fileserve' + opt.imageURL
      this.title = opt.name
      this.visible = true
    },
    closeDialog () {
      this.pic = ''
      this.title = ''
      this.visible = false
    }
  }
}